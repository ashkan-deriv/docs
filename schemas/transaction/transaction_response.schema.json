{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Transaction Response",
  "description": "Response for transaction request, containing realtime stream of user transaction updates",
  "type": "object",
  "properties": {
    "transaction": {
      "type": "object",
      "description": "Realtime stream of user transaction updates.",
      "properties": {
        "id": {
          "type": "string",
          "description": "A per-connection unique identifier. Can be passed to the `forget` API call to unsubscribe."
        },
        "action": {
          "type": "string",
          "description": "The transaction type."
        },
        "amount": {
          "type": "number",
          "description": "It is the amount of transaction performed."
        },
        "balance": {
          "type": "number",
          "description": "Balance amount"
        },
        "contract_id": {
          "type": ["integer", "null"],
          "description": "It is the contract ID."
        },
        "currency": {
          "type": "string",
          "description": "Transaction currency"
        },
        "date_expiry": {
          "type": "integer",
          "description": "Epoch value of the expiry time of the contract. Please note that in case of buy transaction this is approximate value not exact one."
        },
        "longcode": {
          "type": "string",
          "description": "Description of contract purchased"
        },
        "purchase_time": {
          "type": "integer",
          "description": "Time at which contract was purchased, present only for sell transaction"
        },
        "transaction_id": {
          "type": "integer",
          "description": "It is the transaction ID. Every contract (buy or sell) or payment has a unique ID."
        },
        "transaction_time": {
          "type": "integer",
          "description": "Time at which transaction was performed: for buy it is purchase time, for sell it is sell time."
        },
        "underlying_symbol": {
          "type": "string",
          "description": "Symbol code"
        }
      }
    },
    "echo_req": {
      "type": "object",
      "description": "Echo of the request made."
    },
    "msg_type": {
      "type": "string",
      "description": "Action name of the request made.",
      "enum": ["transaction"]
    },
    "req_id": {
      "type": "integer",
      "description": "Optional field sent in request to map to response, present only when request contains `req_id`."
    },
    "subscription": {
      "type": "object",
      "description": "For subscription requests only.",
      "properties": {
        "id": {
          "type": "string",
          "description": "A per-connection unique identifier. Can be passed to the `forget` API call to unsubscribe."
        }
      },
      "required": ["id"]
    }
  },
  "required": ["transaction", "msg_type"],
  "additionalProperties": false
}

