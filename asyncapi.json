{
  "asyncapi": "3.0.0",
  "info": {
    "title": "Deriv WebSocket API v2",
    "version": "2.0.0",
    "description": "Real-time WebSocket API for trading binary options and other derivatives. Provides market data streaming, account management, and trading operations.",
    "contact": {
      "name": "Deriv API Support",
      "email": "api@deriv.com",
      "url": "https://api.deriv.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": {
    "production": {
      "host": "ws.binaryws.com",
      "pathname": "/websockets/v3",
      "protocol": "wss",
      "description": "Production WebSocket server for real-time trading operations",
      "security": [
        {
          "$ref": "#/components/securitySchemes/sessionToken"
        }
      ]
    }
  },
  "defaultContentType": "application/json",
  "channels": {
    "authorize": {
      "address": "authorize",
      "messages": {
        "authorizeRequest": {
          "$ref": "#/components/messages/authorizeRequest"
        },
        "authorizeResponse": {
          "$ref": "#/components/messages/authorizeResponse"
        }
      },
      "description": "Authorize WebSocket connection with session token"
    },
    "get_session_token": {
      "address": "get_session_token",
      "messages": {
        "getSessionTokenRequest": {
          "$ref": "#/components/messages/getSessionTokenRequest"
        },
        "getSessionTokenResponse": {
          "$ref": "#/components/messages/getSessionTokenResponse"
        }
      },
      "description": "Exchange one-time token for session token"
    },
    "balance": {
      "address": "balance",
      "messages": {
        "balanceRequest": {
          "$ref": "#/components/messages/balanceRequest"
        },
        "balanceResponse": {
          "$ref": "#/components/messages/balanceResponse"
        },
        "balanceUpdate": {
          "$ref": "#/components/messages/balanceUpdate"
        }
      },
      "description": "Get account balance and subscribe to updates"
    },
    "portfolio": {
      "address": "portfolio",
      "messages": {
        "portfolioRequest": {
          "$ref": "#/components/messages/portfolioRequest"
        },
        "portfolioResponse": {
          "$ref": "#/components/messages/portfolioResponse"
        }
      },
      "description": "Get current portfolio of open positions"
    },
    "statement": {
      "address": "statement",
      "messages": {
        "statementRequest": {
          "$ref": "#/components/messages/statementRequest"
        },
        "statementResponse": {
          "$ref": "#/components/messages/statementResponse"
        }
      },
      "description": "Retrieve account transaction history"
    },
    "profit_table": {
      "address": "profit_table",
      "messages": {
        "profitTableRequest": {
          "$ref": "#/components/messages/profitTableRequest"
        },
        "profitTableResponse": {
          "$ref": "#/components/messages/profitTableResponse"
        }
      },
      "description": "Get profit/loss summary for closed positions"
    },
    "active_symbols": {
      "address": "active_symbols",
      "messages": {
        "activeSymbolsRequest": {
          "$ref": "#/components/messages/activeSymbolsRequest"
        },
        "activeSymbolsResponse": {
          "$ref": "#/components/messages/activeSymbolsResponse"
        }
      },
      "description": "Get list of active trading symbols"
    },
    "contracts_for": {
      "address": "contracts_for",
      "messages": {
        "contractsForRequest": {
          "$ref": "#/components/messages/contractsForRequest"
        },
        "contractsForResponse": {
          "$ref": "#/components/messages/contractsForResponse"
        }
      },
      "description": "Get available contract types for a symbol"
    },
    "ticks": {
      "address": "ticks",
      "messages": {
        "ticksRequest": {
          "$ref": "#/components/messages/ticksRequest"
        },
        "ticksResponse": {
          "$ref": "#/components/messages/ticksResponse"
        },
        "tickUpdate": {
          "$ref": "#/components/messages/tickUpdate"
        }
      },
      "description": "Stream real-time tick prices"
    },
    "ticks_history": {
      "address": "ticks_history",
      "messages": {
        "ticksHistoryRequest": {
          "$ref": "#/components/messages/ticksHistoryRequest"
        },
        "ticksHistoryResponse": {
          "$ref": "#/components/messages/ticksHistoryResponse"
        }
      },
      "description": "Get historical tick data"
    },
    "proposal": {
      "address": "proposal",
      "messages": {
        "proposalRequest": {
          "$ref": "#/components/messages/proposalRequest"
        },
        "proposalResponse": {
          "$ref": "#/components/messages/proposalResponse"
        },
        "proposalUpdate": {
          "$ref": "#/components/messages/proposalUpdate"
        }
      },
      "description": "Get price proposal for contracts"
    },
    "buy": {
      "address": "buy",
      "messages": {
        "buyRequest": {
          "$ref": "#/components/messages/buyRequest"
        },
        "buyResponse": {
          "$ref": "#/components/messages/buyResponse"
        }
      },
      "description": "Purchase a contract"
    },
    "sell": {
      "address": "sell",
      "messages": {
        "sellRequest": {
          "$ref": "#/components/messages/sellRequest"
        },
        "sellResponse": {
          "$ref": "#/components/messages/sellResponse"
        }
      },
      "description": "Sell an open contract"
    },
    "proposal_open_contract": {
      "address": "proposal_open_contract",
      "messages": {
        "proposalOpenContractRequest": {
          "$ref": "#/components/messages/proposalOpenContractRequest"
        },
        "proposalOpenContractResponse": {
          "$ref": "#/components/messages/proposalOpenContractResponse"
        },
        "proposalOpenContractUpdate": {
          "$ref": "#/components/messages/proposalOpenContractUpdate"
        }
      },
      "description": "Get latest prices for open contracts"
    },
    "contract_update": {
      "address": "contract_update",
      "messages": {
        "contractUpdateRequest": {
          "$ref": "#/components/messages/contractUpdateRequest"
        },
        "contractUpdateResponse": {
          "$ref": "#/components/messages/contractUpdateResponse"
        }
      },
      "description": "Update contract conditions (stop loss/take profit)"
    },
    "contract_update_history": {
      "address": "contract_update_history",
      "messages": {
        "contractUpdateHistoryRequest": {
          "$ref": "#/components/messages/contractUpdateHistoryRequest"
        },
        "contractUpdateHistoryResponse": {
          "$ref": "#/components/messages/contractUpdateHistoryResponse"
        }
      },
      "description": "Get contract update history"
    },
    "cancel": {
      "address": "cancel",
      "messages": {
        "cancelRequest": {
          "$ref": "#/components/messages/cancelRequest"
        },
        "cancelResponse": {
          "$ref": "#/components/messages/cancelResponse"
        }
      },
      "description": "Cancel a contract during cancellation period"
    },
    "transaction": {
      "address": "transaction",
      "messages": {
        "transactionRequest": {
          "$ref": "#/components/messages/transactionRequest"
        },
        "transactionResponse": {
          "$ref": "#/components/messages/transactionResponse"
        },
        "transactionUpdate": {
          "$ref": "#/components/messages/transactionUpdate"
        }
      },
      "description": "Subscribe to transaction updates"
    },
    "forget": {
      "address": "forget",
      "messages": {
        "forgetRequest": {
          "$ref": "#/components/messages/forgetRequest"
        },
        "forgetResponse": {
          "$ref": "#/components/messages/forgetResponse"
        }
      },
      "description": "Unsubscribe from a stream"
    },
    "forget_all": {
      "address": "forget_all",
      "messages": {
        "forgetAllRequest": {
          "$ref": "#/components/messages/forgetAllRequest"
        },
        "forgetAllResponse": {
          "$ref": "#/components/messages/forgetAllResponse"
        }
      },
      "description": "Unsubscribe from all streams by type"
    }
  },
  "operations": {
    "sendAuthorize": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/authorize"
      },
      "messages": [
        {
          "$ref": "#/channels/authorize/messages/authorizeRequest"
        }
      ]
    },
    "receiveAuthorize": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/authorize"
      },
      "messages": [
        {
          "$ref": "#/channels/authorize/messages/authorizeResponse"
        }
      ]
    },
    "sendGetSessionToken": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/get_session_token"
      },
      "messages": [
        {
          "$ref": "#/channels/get_session_token/messages/getSessionTokenRequest"
        }
      ]
    },
    "receiveGetSessionToken": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/get_session_token"
      },
      "messages": [
        {
          "$ref": "#/channels/get_session_token/messages/getSessionTokenResponse"
        }
      ]
    },
    "subscribeToTicks": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ticks"
      },
      "messages": [
        {
          "$ref": "#/channels/ticks/messages/ticksRequest"
        }
      ]
    },
    "receiveTickUpdates": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/ticks"
      },
      "messages": [
        {
          "$ref": "#/channels/ticks/messages/ticksResponse"
        },
        {
          "$ref": "#/channels/ticks/messages/tickUpdate"
        }
      ]
    },
    "getProposal": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/proposal"
      },
      "messages": [
        {
          "$ref": "#/channels/proposal/messages/proposalRequest"
        }
      ]
    },
    "receiveProposal": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/proposal"
      },
      "messages": [
        {
          "$ref": "#/channels/proposal/messages/proposalResponse"
        },
        {
          "$ref": "#/channels/proposal/messages/proposalUpdate"
        }
      ]
    },
    "buyContract": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/buy"
      },
      "messages": [
        {
          "$ref": "#/channels/buy/messages/buyRequest"
        }
      ]
    },
    "receiveBuyConfirmation": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/buy"
      },
      "messages": [
        {
          "$ref": "#/channels/buy/messages/buyResponse"
        }
      ]
    },
    "sellContract": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/sell"
      },
      "messages": [
        {
          "$ref": "#/channels/sell/messages/sellRequest"
        }
      ]
    },
    "receiveSellConfirmation": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/sell"
      },
      "messages": [
        {
          "$ref": "#/channels/sell/messages/sellResponse"
        }
      ]
    }
  },
  "components": {
    "messages": {
      "authorizeRequest": {
        "name": "authorizeRequest",
        "title": "Authorize Request",
        "summary": "Authorize WebSocket connection",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/authorizeRequestSchema"
        }
      },
      "authorizeResponse": {
        "name": "authorizeResponse",
        "title": "Authorize Response",
        "summary": "Authorization confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/authorizeResponseSchema"
        }
      },
      "getSessionTokenRequest": {
        "name": "getSessionTokenRequest",
        "title": "Get Session Token Request",
        "summary": "Exchange one-time token for session token",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/getSessionTokenRequestSchema"
        }
      },
      "getSessionTokenResponse": {
        "name": "getSessionTokenResponse",
        "title": "Get Session Token Response",
        "summary": "Session token details",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/getSessionTokenResponseSchema"
        }
      },
      "balanceRequest": {
        "name": "balanceRequest",
        "title": "Balance Request",
        "summary": "Get account balance",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/balanceRequestSchema"
        }
      },
      "balanceResponse": {
        "name": "balanceResponse",
        "title": "Balance Response",
        "summary": "Current account balance",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/balanceResponseSchema"
        }
      },
      "balanceUpdate": {
        "name": "balanceUpdate",
        "title": "Balance Update",
        "summary": "Real-time balance update",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/balanceResponseSchema"
        }
      },
      "portfolioRequest": {
        "name": "portfolioRequest",
        "title": "Portfolio Request",
        "summary": "Get open positions",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/portfolioRequestSchema"
        }
      },
      "portfolioResponse": {
        "name": "portfolioResponse",
        "title": "Portfolio Response",
        "summary": "List of open positions",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/portfolioResponseSchema"
        }
      },
      "statementRequest": {
        "name": "statementRequest",
        "title": "Statement Request",
        "summary": "Get transaction history",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/statementRequestSchema"
        }
      },
      "statementResponse": {
        "name": "statementResponse",
        "title": "Statement Response",
        "summary": "Transaction history",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/statementResponseSchema"
        }
      },
      "profitTableRequest": {
        "name": "profitTableRequest",
        "title": "Profit Table Request",
        "summary": "Get profit/loss summary",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/profitTableRequestSchema"
        }
      },
      "profitTableResponse": {
        "name": "profitTableResponse",
        "title": "Profit Table Response",
        "summary": "Profit/loss summary",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/profitTableResponseSchema"
        }
      },
      "activeSymbolsRequest": {
        "name": "activeSymbolsRequest",
        "title": "Active Symbols Request",
        "summary": "Get tradable symbols",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/activeSymbolsRequestSchema"
        }
      },
      "activeSymbolsResponse": {
        "name": "activeSymbolsResponse",
        "title": "Active Symbols Response",
        "summary": "List of tradable symbols",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/activeSymbolsResponseSchema"
        }
      },
      "contractsForRequest": {
        "name": "contractsForRequest",
        "title": "Contracts For Request",
        "summary": "Get available contracts for symbol",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/contractsForRequestSchema"
        }
      },
      "contractsForResponse": {
        "name": "contractsForResponse",
        "title": "Contracts For Response",
        "summary": "Available contract types",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/contractsForResponseSchema"
        }
      },
      "ticksRequest": {
        "name": "ticksRequest",
        "title": "Ticks Request",
        "summary": "Subscribe to tick stream",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/ticksRequestSchema"
        }
      },
      "ticksResponse": {
        "name": "ticksResponse",
        "title": "Ticks Response",
        "summary": "Initial tick data",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/ticksResponseSchema"
        }
      },
      "tickUpdate": {
        "name": "tickUpdate",
        "title": "Tick Update",
        "summary": "Real-time tick update",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/ticksResponseSchema"
        }
      },
      "ticksHistoryRequest": {
        "name": "ticksHistoryRequest",
        "title": "Ticks History Request",
        "summary": "Get historical ticks",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/ticksHistoryRequestSchema"
        }
      },
      "ticksHistoryResponse": {
        "name": "ticksHistoryResponse",
        "title": "Ticks History Response",
        "summary": "Historical tick data",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/ticksHistoryResponseSchema"
        }
      },
      "proposalRequest": {
        "name": "proposalRequest",
        "title": "Proposal Request",
        "summary": "Get contract price",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/proposalRequestSchema"
        }
      },
      "proposalResponse": {
        "name": "proposalResponse",
        "title": "Proposal Response",
        "summary": "Contract price details",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/proposalResponseSchema"
        }
      },
      "proposalUpdate": {
        "name": "proposalUpdate",
        "title": "Proposal Update",
        "summary": "Real-time price update",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/proposalResponseSchema"
        }
      },
      "buyRequest": {
        "name": "buyRequest",
        "title": "Buy Request",
        "summary": "Purchase contract",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/buyRequestSchema"
        }
      },
      "buyResponse": {
        "name": "buyResponse",
        "title": "Buy Response",
        "summary": "Purchase confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/buyResponseSchema"
        }
      },
      "sellRequest": {
        "name": "sellRequest",
        "title": "Sell Request",
        "summary": "Sell open contract",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/sellRequestSchema"
        }
      },
      "sellResponse": {
        "name": "sellResponse",
        "title": "Sell Response",
        "summary": "Sale confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/sellResponseSchema"
        }
      },
      "proposalOpenContractRequest": {
        "name": "proposalOpenContractRequest",
        "title": "Proposal Open Contract Request",
        "summary": "Get open contract details",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/proposalOpenContractRequestSchema"
        }
      },
      "proposalOpenContractResponse": {
        "name": "proposalOpenContractResponse",
        "title": "Proposal Open Contract Response",
        "summary": "Open contract details",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/proposalOpenContractResponseSchema"
        }
      },
      "proposalOpenContractUpdate": {
        "name": "proposalOpenContractUpdate",
        "title": "Open Contract Update",
        "summary": "Real-time contract update",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/proposalOpenContractResponseSchema"
        }
      },
      "contractUpdateRequest": {
        "name": "contractUpdateRequest",
        "title": "Contract Update Request",
        "summary": "Update contract conditions",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/contractUpdateRequestSchema"
        }
      },
      "contractUpdateResponse": {
        "name": "contractUpdateResponse",
        "title": "Contract Update Response",
        "summary": "Update confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/contractUpdateResponseSchema"
        }
      },
      "contractUpdateHistoryRequest": {
        "name": "contractUpdateHistoryRequest",
        "title": "Contract Update History Request",
        "summary": "Get update history",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/contractUpdateHistoryRequestSchema"
        }
      },
      "contractUpdateHistoryResponse": {
        "name": "contractUpdateHistoryResponse",
        "title": "Contract Update History Response",
        "summary": "Update history",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/contractUpdateHistoryResponseSchema"
        }
      },
      "cancelRequest": {
        "name": "cancelRequest",
        "title": "Cancel Request",
        "summary": "Cancel contract",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/cancelRequestSchema"
        }
      },
      "cancelResponse": {
        "name": "cancelResponse",
        "title": "Cancel Response",
        "summary": "Cancellation confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/cancelResponseSchema"
        }
      },
      "transactionRequest": {
        "name": "transactionRequest",
        "title": "Transaction Request",
        "summary": "Subscribe to transactions",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/transactionRequestSchema"
        }
      },
      "transactionResponse": {
        "name": "transactionResponse",
        "title": "Transaction Response",
        "summary": "Transaction subscription confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/transactionResponseSchema"
        }
      },
      "transactionUpdate": {
        "name": "transactionUpdate",
        "title": "Transaction Update",
        "summary": "Real-time transaction notification",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/transactionUpdateSchema"
        }
      },
      "forgetRequest": {
        "name": "forgetRequest",
        "title": "Forget Request",
        "summary": "Unsubscribe from stream",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/forgetRequestSchema"
        }
      },
      "forgetResponse": {
        "name": "forgetResponse",
        "title": "Forget Response",
        "summary": "Unsubscribe confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/forgetResponseSchema"
        }
      },
      "forgetAllRequest": {
        "name": "forgetAllRequest",
        "title": "Forget All Request",
        "summary": "Unsubscribe from all streams",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/forgetAllRequestSchema"
        }
      },
      "forgetAllResponse": {
        "name": "forgetAllResponse",
        "title": "Forget All Response",
        "summary": "Bulk unsubscribe confirmation",
        "contentType": "application/json",
        "payload": {
          "$ref": "#/components/schemas/forgetAllResponseSchema"
        }
      }
    },
    "schemas": {
      "commonRequest": {
        "type": "object",
        "properties": {
          "req_id": {
            "type": "integer",
            "description": "Optional correlation ID for mapping requests to responses"
          },
          "passthrough": {
            "type": "object",
            "description": "Optional data to pass through, returned in echo_req"
          }
        }
      },
      "commonResponse": {
        "type": "object",
        "required": ["echo_req", "msg_type"],
        "properties": {
          "echo_req": {
            "type": "object",
            "description": "Echo of the request made"
          },
          "msg_type": {
            "type": "string",
            "description": "Action name of the request made"
          },
          "req_id": {
            "type": "integer",
            "description": "Correlation ID from request"
          },
          "error": {
            "$ref": "#/components/schemas/errorSchema"
          }
        }
      },
      "errorSchema": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Error code"
          },
          "message": {
            "type": "string",
            "description": "Error message"
          },
          "details": {
            "type": "object",
            "description": "Additional error details"
          }
        }
      },
      "subscription": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique subscription identifier for forget operations"
          }
        }
      },
      "authorizeRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["authorize"],
            "properties": {
              "authorize": {
                "type": "string",
                "description": "Session token for authentication"
              }
            }
          }
        ]
      },
      "authorizeResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "authorize": {
                "type": "object",
                "properties": {
                  "balance": {
                    "type": "number",
                    "description": "Account balance"
                  },
                  "currency": {
                    "type": "string",
                    "description": "Account currency"
                  },
                  "loginid": {
                    "type": "string",
                    "description": "Login ID"
                  },
                  "is_virtual": {
                    "type": "integer",
                    "description": "1 if virtual account, 0 if real"
                  },
                  "scopes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Available scopes for this token"
                  }
                }
              }
            }
          }
        ]
      },
      "getSessionTokenRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["get_session_token"],
            "properties": {
              "get_session_token": {
                "type": "string",
                "description": "One-time token from brand"
              }
            }
          }
        ]
      },
      "getSessionTokenResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "get_session_token": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Session token for authorization"
                  },
                  "expires": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Token expiry timestamp"
                  }
                }
              }
            }
          }
        ]
      },
      "balanceRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["balance"],
            "properties": {
              "balance": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "subscribe": {
                "type": "integer",
                "description": "1 to subscribe to balance updates"
              }
            }
          }
        ]
      },
      "balanceResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "balance": {
                "type": "object",
                "properties": {
                  "balance": {
                    "type": "number",
                    "description": "Current balance"
                  },
                  "currency": {
                    "type": "string",
                    "description": "Currency code"
                  },
                  "id": {
                    "type": "string",
                    "description": "Subscription ID"
                  },
                  "loginid": {
                    "type": "string",
                    "description": "Login ID"
                  }
                }
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "portfolioRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["portfolio"],
            "properties": {
              "portfolio": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "contract_type": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Filter by contract types"
              }
            }
          }
        ]
      },
      "portfolioResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "portfolio": {
                "type": "object",
                "properties": {
                  "contracts": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "contract_id": {
                          "type": "integer",
                          "description": "Contract identifier"
                        },
                        "contract_type": {
                          "type": "string",
                          "description": "Contract type code"
                        },
                        "buy_price": {
                          "type": "number",
                          "description": "Purchase price"
                        },
                        "payout": {
                          "type": "number",
                          "description": "Potential payout"
                        },
                        "underlying_symbol": {
                          "type": "string",
                          "description": "Symbol code"
                        },
                        "currency": {
                          "type": "string",
                          "description": "Contract currency"
                        },
                        "longcode": {
                          "type": "string",
                          "description": "Contract description"
                        },
                        "shortcode": {
                          "type": "string",
                          "description": "Contract shortcode"
                        },
                        "purchase_time": {
                          "type": "integer",
                          "description": "Epoch of purchase"
                        },
                        "expiry_time": {
                          "type": "integer",
                          "description": "Epoch of expiry"
                        },
                        "transaction_id": {
                          "type": "integer",
                          "description": "Transaction ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "statementRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["statement"],
            "properties": {
              "statement": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "limit": {
                "type": "number",
                "description": "Maximum transactions to return"
              },
              "offset": {
                "type": "integer",
                "description": "Number of transactions to skip"
              },
              "date_from": {
                "type": "integer",
                "description": "Start date epoch"
              },
              "date_to": {
                "type": "integer",
                "description": "End date epoch"
              },
              "action_type": {
                "type": "string",
                "enum": ["buy", "sell", "deposit", "withdrawal"],
                "description": "Filter by transaction type"
              },
              "description": {
                "type": "integer",
                "description": "1 to include full contract descriptions"
              }
            }
          }
        ]
      },
      "statementResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "statement": {
                "type": "object",
                "properties": {
                  "count": {
                    "type": "number",
                    "description": "Number of transactions returned"
                  },
                  "transactions": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "action_type": {
                          "type": "string",
                          "description": "Transaction type"
                        },
                        "amount": {
                          "type": "number",
                          "description": "Transaction amount"
                        },
                        "balance_after": {
                          "type": "number",
                          "description": "Balance after transaction"
                        },
                        "contract_id": {
                          "type": ["integer", "null"],
                          "description": "Contract ID if applicable"
                        },
                        "transaction_id": {
                          "type": "integer",
                          "description": "Transaction ID"
                        },
                        "transaction_time": {
                          "type": "integer",
                          "description": "Epoch of transaction"
                        },
                        "payout": {
                          "type": ["number", "null"],
                          "description": "Payout amount"
                        },
                        "purchase_time": {
                          "type": "integer",
                          "description": "Purchase time for sell transactions"
                        },
                        "reference_id": {
                          "type": ["integer", "null"],
                          "description": "Reference to buy transaction"
                        },
                        "longcode": {
                          "type": "string",
                          "description": "Contract description if description=1"
                        },
                        "shortcode": {
                          "type": "string",
                          "description": "Contract shortcode if description=1"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "profitTableRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["profit_table"],
            "properties": {
              "profit_table": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "limit": {
                "type": "number",
                "description": "Maximum transactions to return"
              },
              "offset": {
                "type": "integer",
                "description": "Number of transactions to skip"
              },
              "date_from": {
                "type": "string",
                "description": "Start date (epoch or YYYY-MM-DD)"
              },
              "date_to": {
                "type": "string",
                "description": "End date (epoch or YYYY-MM-DD)"
              },
              "contract_type": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Filter by contract types"
              },
              "description": {
                "type": "integer",
                "description": "1 to include full contract descriptions"
              },
              "sort": {
                "type": "string",
                "enum": ["ASC", "DESC"],
                "description": "Sort direction"
              }
            }
          }
        ]
      },
      "profitTableResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "profit_table": {
                "type": "object",
                "properties": {
                  "count": {
                    "type": "number",
                    "description": "Number of transactions returned"
                  },
                  "transactions": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "buy_price": {
                          "type": "number",
                          "description": "Purchase price"
                        },
                        "sell_price": {
                          "type": "number",
                          "description": "Sale price"
                        },
                        "payout": {
                          "type": "number",
                          "description": "Payout amount"
                        },
                        "contract_id": {
                          "type": ["integer", "null"],
                          "description": "Contract ID"
                        },
                        "transaction_id": {
                          "type": "integer",
                          "description": "Transaction ID"
                        },
                        "purchase_time": {
                          "type": "integer",
                          "description": "Purchase epoch"
                        },
                        "sell_time": {
                          "type": ["integer", "null"],
                          "description": "Sale epoch"
                        },
                        "app_id": {
                          "type": "integer",
                          "description": "Application ID"
                        },
                        "longcode": {
                          "type": "string",
                          "description": "Contract description if description=1"
                        },
                        "shortcode": {
                          "type": "string",
                          "description": "Contract shortcode if description=1"
                        },
                        "underlying_symbol": {
                          "type": "string",
                          "description": "Symbol code if description=1"
                        },
                        "contract_type": {
                          "type": "string",
                          "description": "Contract type if description=1"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "activeSymbolsRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["active_symbols"],
            "properties": {
              "active_symbols": {
                "type": "string",
                "enum": ["brief", "full"],
                "description": "Level of detail (brief for subset of fields)"
              },
              "contract_type": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Filter by contract types"
              }
            }
          }
        ]
      },
      "activeSymbolsResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "active_symbols": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "underlying_symbol": {
                      "type": "string",
                      "description": "Symbol code"
                    },
                    "underlying_symbol_type": {
                      "type": "string",
                      "description": "Symbol type"
                    },
                    "market": {
                      "type": "string",
                      "description": "Market category"
                    },
                    "submarket": {
                      "type": "string",
                      "description": "Submarket name"
                    },
                    "subgroup": {
                      "type": "string",
                      "description": "Subgroup name"
                    },
                    "display_order": {
                      "type": "integer",
                      "description": "Display order"
                    },
                    "exchange_is_open": {
                      "type": "integer",
                      "description": "1 if open, 0 if closed"
                    },
                    "is_trading_suspended": {
                      "type": "integer",
                      "description": "1 if suspended, 0 if active"
                    },
                    "pip": {
                      "type": "number",
                      "description": "Pip size"
                    },
                    "pip_size": {
                      "type": "number",
                      "description": "Alternative pip size field"
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "contractsForRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["contracts_for"],
            "properties": {
              "contracts_for": {
                "type": "string",
                "description": "Symbol to get contracts for"
              }
            }
          }
        ]
      },
      "contractsForResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "contracts_for": {
                "type": "object",
                "properties": {
                  "available": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "contract_type": {
                          "type": "string",
                          "description": "Contract type code"
                        },
                        "contract_category": {
                          "type": "string",
                          "description": "Contract category"
                        },
                        "sentiment": {
                          "type": "string",
                          "description": "Market sentiment"
                        },
                        "min_contract_duration": {
                          "type": "string",
                          "description": "Minimum duration"
                        },
                        "max_contract_duration": {
                          "type": "string",
                          "description": "Maximum duration"
                        },
                        "barriers": {
                          "type": "number",
                          "description": "Number of barriers"
                        },
                        "barrier": {
                          "type": ["string", "null"],
                          "description": "Barrier value"
                        },
                        "high_barrier": {
                          "type": ["string", "null"],
                          "description": "High barrier"
                        },
                        "low_barrier": {
                          "type": ["string", "null"],
                          "description": "Low barrier"
                        },
                        "expiry_type": {
                          "type": "string",
                          "description": "Expiry type"
                        },
                        "underlying_symbol": {
                          "type": "string",
                          "description": "Symbol code"
                        },
                        "exchange_name": {
                          "type": "string",
                          "description": "Exchange name"
                        },
                        "market": {
                          "type": "string",
                          "description": "Market name"
                        },
                        "submarket": {
                          "type": "string",
                          "description": "Submarket name"
                        },
                        "default_stake": {
                          "type": "number",
                          "description": "Default stake amount"
                        },
                        "multiplier_range": {
                          "type": "array",
                          "items": {
                            "type": "number"
                          },
                          "description": "Available multipliers"
                        },
                        "growth_rate_range": {
                          "type": "array",
                          "items": {
                            "type": "number"
                          },
                          "description": "Available growth rates"
                        }
                      }
                    }
                  },
                  "hit_count": {
                    "type": "number",
                    "description": "Total available contracts"
                  }
                }
              }
            }
          }
        ]
      },
      "ticksRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["ticks"],
            "properties": {
              "ticks": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Single symbol"
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Multiple symbols"
                  }
                ]
              },
              "subscribe": {
                "type": "integer",
                "description": "1 to subscribe to updates"
              }
            }
          }
        ]
      },
      "ticksResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "tick": {
                "type": "object",
                "properties": {
                  "symbol": {
                    "type": "string",
                    "description": "Symbol code"
                  },
                  "bid": {
                    "type": "number",
                    "description": "Bid price"
                  },
                  "ask": {
                    "type": "number",
                    "description": "Ask price"
                  },
                  "quote": {
                    "type": "number",
                    "description": "Quote price"
                  },
                  "epoch": {
                    "type": "integer",
                    "description": "Tick epoch time"
                  },
                  "pip_size": {
                    "type": "number",
                    "description": "Pip size"
                  },
                  "id": {
                    "type": "string",
                    "description": "Subscription ID"
                  }
                }
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "ticksHistoryRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["ticks_history", "end"],
            "properties": {
              "ticks_history": {
                "type": "string",
                "description": "Symbol to get history for"
              },
              "end": {
                "type": "string",
                "description": "End time (epoch or 'latest')"
              },
              "start": {
                "type": "integer",
                "description": "Start time epoch"
              },
              "count": {
                "type": "integer",
                "description": "Number of ticks to return"
              },
              "style": {
                "type": "string",
                "enum": ["ticks", "candles"],
                "description": "Output style"
              },
              "granularity": {
                "type": "integer",
                "description": "Candle period in seconds (for style=candles)"
              },
              "adjust_start_time": {
                "type": "integer",
                "description": "1 to adjust for market closures"
              },
              "subscribe": {
                "type": "integer",
                "description": "1 to subscribe to updates"
              }
            }
          }
        ]
      },
      "ticksHistoryResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "history": {
                "type": "object",
                "properties": {
                  "prices": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    },
                    "description": "Array of prices"
                  },
                  "times": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Array of epochs"
                  }
                }
              },
              "candles": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "epoch": {
                      "type": "integer",
                      "description": "Candle epoch"
                    },
                    "open": {
                      "type": "number",
                      "description": "Open price"
                    },
                    "high": {
                      "type": "number",
                      "description": "High price"
                    },
                    "low": {
                      "type": "number",
                      "description": "Low price"
                    },
                    "close": {
                      "type": "number",
                      "description": "Close price"
                    }
                  }
                },
                "description": "OHLC candles (for style=candles)"
              },
              "pip_size": {
                "type": "number",
                "description": "Pip size"
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "proposalRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["proposal", "contract_type", "currency", "underlying_symbol"],
            "properties": {
              "proposal": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "contract_type": {
                "type": "string",
                "description": "Contract type code"
              },
              "currency": {
                "type": "string",
                "description": "Account currency"
              },
              "underlying_symbol": {
                "type": "string",
                "description": "Symbol code"
              },
              "amount": {
                "type": "number",
                "description": "Stake or payout amount"
              },
              "basis": {
                "type": "string",
                "enum": ["stake", "payout"],
                "description": "Amount basis"
              },
              "duration": {
                "type": "integer",
                "description": "Contract duration"
              },
              "duration_unit": {
                "type": "string",
                "enum": ["s", "m", "h", "d", "t"],
                "description": "Duration unit"
              },
              "date_expiry": {
                "type": "integer",
                "description": "Expiry epoch (alternative to duration)"
              },
              "barrier": {
                "type": "string",
                "description": "Barrier level"
              },
              "barrier2": {
                "type": "string",
                "description": "Second barrier (for two-barrier contracts)"
              },
              "multiplier": {
                "type": "number",
                "description": "Multiplier value"
              },
              "growth_rate": {
                "type": "number",
                "description": "Growth rate (for accumulators)"
              },
              "selected_tick": {
                "type": "integer",
                "description": "Selected tick (for tick trades)"
              },
              "limit_order": {
                "type": "object",
                "properties": {
                  "stop_loss": {
                    "type": "number",
                    "description": "Stop loss level"
                  },
                  "take_profit": {
                    "type": "number",
                    "description": "Take profit level"
                  }
                }
              },
              "subscribe": {
                "type": "integer",
                "description": "1 to subscribe to price updates"
              }
            }
          }
        ]
      },
      "proposalResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "proposal": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Proposal ID for buy request"
                  },
                  "ask_price": {
                    "type": "number",
                    "description": "Contract price"
                  },
                  "display_value": {
                    "type": "string",
                    "description": "Display price"
                  },
                  "payout": {
                    "type": "number",
                    "description": "Potential payout"
                  },
                  "spot": {
                    "type": "number",
                    "description": "Current spot price"
                  },
                  "spot_time": {
                    "type": "integer",
                    "description": "Spot epoch"
                  },
                  "date_start": {
                    "type": "integer",
                    "description": "Start epoch"
                  },
                  "date_expiry": {
                    "type": "integer",
                    "description": "Expiry epoch"
                  },
                  "commission": {
                    "type": ["number", "null"],
                    "description": "Commission amount"
                  },
                  "multiplier": {
                    "type": "number",
                    "description": "Multiplier value"
                  },
                  "longcode": {
                    "type": "string",
                    "description": "Contract description"
                  },
                  "limit_order": {
                    "type": "object",
                    "description": "Limit order details"
                  },
                  "contract_details": {
                    "type": "object",
                    "properties": {
                      "minimum_stake": {
                        "type": "string",
                        "description": "Minimum stake"
                      },
                      "maximum_stake": {
                        "type": "string",
                        "description": "Maximum stake"
                      }
                    }
                  },
                  "validation_params": {
                    "type": "object",
                    "description": "Validation parameters for contract"
                  }
                }
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "buyRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["buy", "price"],
            "properties": {
              "buy": {
                "type": "string",
                "description": "Proposal ID from proposal response"
              },
              "price": {
                "type": "number",
                "description": "Maximum price to pay"
              },
              "subscribe": {
                "type": "integer",
                "description": "1 to subscribe to contract updates"
              },
              "parameters": {
                "type": "object",
                "description": "Contract parameters (if buy=1)"
              }
            }
          }
        ]
      },
      "buyResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "buy": {
                "type": "object",
                "properties": {
                  "contract_id": {
                    "type": "integer",
                    "description": "Contract ID"
                  },
                  "transaction_id": {
                    "type": "integer",
                    "description": "Transaction ID"
                  },
                  "buy_price": {
                    "type": "number",
                    "description": "Actual purchase price"
                  },
                  "balance_after": {
                    "type": "number",
                    "description": "Balance after purchase"
                  },
                  "longcode": {
                    "type": "string",
                    "description": "Contract description"
                  },
                  "shortcode": {
                    "type": "string",
                    "description": "Contract shortcode"
                  },
                  "payout": {
                    "type": "number",
                    "description": "Potential payout"
                  },
                  "purchase_time": {
                    "type": "integer",
                    "description": "Purchase epoch"
                  },
                  "start_time": {
                    "type": "integer",
                    "description": "Contract start epoch"
                  }
                }
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "sellRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["sell", "price"],
            "properties": {
              "sell": {
                "type": "integer",
                "description": "Contract ID to sell"
              },
              "price": {
                "type": "number",
                "description": "Minimum price (0 for market)"
              }
            }
          }
        ]
      },
      "sellResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "sell": {
                "type": "object",
                "properties": {
                  "contract_id": {
                    "type": "integer",
                    "description": "Contract ID"
                  },
                  "transaction_id": {
                    "type": "integer",
                    "description": "Sale transaction ID"
                  },
                  "reference_id": {
                    "type": "integer",
                    "description": "Buy transaction ID"
                  },
                  "sold_for": {
                    "type": "number",
                    "description": "Sale price"
                  },
                  "balance_after": {
                    "type": "number",
                    "description": "Balance after sale"
                  }
                }
              }
            }
          }
        ]
      },
      "proposalOpenContractRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["proposal_open_contract"],
            "properties": {
              "proposal_open_contract": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "contract_id": {
                "type": "integer",
                "description": "Contract ID (optional, all if not set)"
              },
              "subscribe": {
                "type": "integer",
                "description": "1 to subscribe to updates"
              }
            }
          }
        ]
      },
      "proposalOpenContractResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "proposal_open_contract": {
                "type": "object",
                "properties": {
                  "contract_id": {
                    "type": "integer",
                    "description": "Contract ID"
                  },
                  "contract_type": {
                    "type": "string",
                    "description": "Contract type"
                  },
                  "currency": {
                    "type": "string",
                    "description": "Contract currency"
                  },
                  "buy_price": {
                    "type": "string",
                    "description": "Purchase price"
                  },
                  "bid_price": {
                    "type": "string",
                    "description": "Current bid price"
                  },
                  "profit": {
                    "type": "string",
                    "description": "Current profit/loss"
                  },
                  "profit_percentage": {
                    "type": "number",
                    "description": "Profit percentage"
                  },
                  "current_spot": {
                    "type": "string",
                    "description": "Current spot price"
                  },
                  "current_spot_time": {
                    "type": "integer",
                    "description": "Current spot epoch"
                  },
                  "current_spot_display_value": {
                    "type": "string",
                    "description": "Formatted spot price"
                  },
                  "entry_spot": {
                    "type": ["string", "null"],
                    "description": "Entry spot price"
                  },
                  "entry_spot_display_value": {
                    "type": ["string", "null"],
                    "description": "Formatted entry spot"
                  },
                  "entry_tick": {
                    "type": ["string", "null"],
                    "description": "Entry tick value"
                  },
                  "entry_tick_time": {
                    "type": ["integer", "null"],
                    "description": "Entry tick epoch"
                  },
                  "exit_spot": {
                    "type": ["string", "null"],
                    "description": "Exit spot price"
                  },
                  "exit_spot_time": {
                    "type": ["integer", "null"],
                    "description": "Exit spot epoch"
                  },
                  "barrier": {
                    "type": ["string", "null"],
                    "description": "Barrier level"
                  },
                  "barrier_count": {
                    "type": "number",
                    "description": "Number of barriers"
                  },
                  "high_barrier": {
                    "type": "string",
                    "description": "High barrier"
                  },
                  "low_barrier": {
                    "type": "string",
                    "description": "Low barrier"
                  },
                  "date_start": {
                    "type": "integer",
                    "description": "Start epoch"
                  },
                  "date_expiry": {
                    "type": "integer",
                    "description": "Expiry epoch"
                  },
                  "date_settlement": {
                    "type": "integer",
                    "description": "Settlement epoch"
                  },
                  "purchase_time": {
                    "type": "integer",
                    "description": "Purchase epoch"
                  },
                  "expiry_time": {
                    "type": "integer",
                    "description": "Expiry epoch"
                  },
                  "sell_price": {
                    "type": ["string", "null"],
                    "description": "Sale price if sold"
                  },
                  "sell_time": {
                    "type": ["integer", "null"],
                    "description": "Sale epoch if sold"
                  },
                  "sell_spot": {
                    "type": ["string", "null"],
                    "description": "Spot at sale"
                  },
                  "sell_spot_time": {
                    "type": ["integer", "null"],
                    "description": "Spot epoch at sale"
                  },
                  "is_expired": {
                    "type": "integer",
                    "description": "1 if expired"
                  },
                  "is_sold": {
                    "type": "integer",
                    "description": "1 if sold"
                  },
                  "is_valid_to_sell": {
                    "type": "integer",
                    "description": "1 if can be sold"
                  },
                  "is_valid_to_cancel": {
                    "type": "integer",
                    "description": "1 if can be cancelled"
                  },
                  "is_valid_to_update": {
                    "type": ["object", "null"],
                    "properties": {
                      "stop_loss": {
                        "type": "integer"
                      },
                      "take_profit": {
                        "type": "integer"
                      }
                    }
                  },
                  "is_settleable": {
                    "type": "integer",
                    "description": "1 if can be settled"
                  },
                  "is_intraday": {
                    "type": "integer",
                    "description": "1 if intraday"
                  },
                  "is_path_dependent": {
                    "type": "integer",
                    "description": "1 if path dependent"
                  },
                  "status": {
                    "type": ["string", "null"],
                    "enum": ["open", "sold", "won", "lost"],
                    "description": "Contract status"
                  },
                  "multiplier": {
                    "type": "number",
                    "description": "Multiplier value"
                  },
                  "limit_order": {
                    "type": "object",
                    "description": "Limit order details"
                  },
                  "validation_params": {
                    "type": "object",
                    "description": "Validation parameters"
                  },
                  "longcode": {
                    "type": "string",
                    "description": "Contract description"
                  },
                  "shortcode": {
                    "type": "string",
                    "description": "Contract shortcode"
                  },
                  "underlying": {
                    "type": "string",
                    "description": "Underlying symbol"
                  },
                  "underlying_symbol": {
                    "type": "string",
                    "description": "Symbol code"
                  },
                  "display_name": {
                    "type": "string",
                    "description": "Display name"
                  },
                  "account_id": {
                    "type": "number",
                    "description": "Account ID"
                  },
                  "transaction_ids": {
                    "type": "object",
                    "properties": {
                      "buy": {
                        "type": "integer",
                        "description": "Buy transaction ID"
                      },
                      "sell": {
                        "type": "integer",
                        "description": "Sell transaction ID"
                      }
                    }
                  },
                  "tick_count": {
                    "type": "integer",
                    "description": "Number of ticks"
                  },
                  "tick_passed": {
                    "type": "integer",
                    "description": "Ticks passed"
                  },
                  "tick_stream": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "epoch": {
                          "type": "integer"
                        },
                        "tick": {
                          "type": ["number", "null"]
                        },
                        "tick_display_value": {
                          "type": ["string", "null"]
                        }
                      }
                    }
                  }
                }
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "contractUpdateRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["contract_update", "contract_id", "limit_order"],
            "properties": {
              "contract_update": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "contract_id": {
                "type": "integer",
                "description": "Contract ID to update"
              },
              "limit_order": {
                "type": "object",
                "properties": {
                  "stop_loss": {
                    "type": ["number", "null"],
                    "description": "Stop loss level"
                  },
                  "take_profit": {
                    "type": ["number", "null"],
                    "description": "Take profit level"
                  }
                }
              }
            }
          }
        ]
      },
      "contractUpdateResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "contract_update": {
                "type": "object",
                "properties": {
                  "stop_loss": {
                    "type": "object",
                    "properties": {
                      "display_name": {
                        "type": "string"
                      },
                      "order_amount": {
                        "type": ["number", "null"]
                      },
                      "display_order_amount": {
                        "type": ["string", "null"]
                      },
                      "order_date": {
                        "type": "integer"
                      },
                      "value": {
                        "type": ["string", "null"]
                      }
                    }
                  },
                  "take_profit": {
                    "type": "object",
                    "properties": {
                      "display_name": {
                        "type": "string"
                      },
                      "order_amount": {
                        "type": ["number", "null"]
                      },
                      "display_order_amount": {
                        "type": ["string", "null"]
                      },
                      "order_date": {
                        "type": "integer"
                      },
                      "value": {
                        "type": ["string", "null"]
                      }
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "contractUpdateHistoryRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["contract_update_history", "contract_id"],
            "properties": {
              "contract_update_history": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "contract_id": {
                "type": "integer",
                "description": "Contract ID"
              },
              "limit": {
                "type": "number",
                "description": "Maximum updates to return"
              }
            }
          }
        ]
      },
      "contractUpdateHistoryResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "contract_update_history": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "display_name": {
                      "type": "string",
                      "description": "Display name"
                    },
                    "order_amount": {
                      "type": "string",
                      "description": "Order amount"
                    },
                    "order_date": {
                      "type": "integer",
                      "description": "Update epoch"
                    },
                    "order_type": {
                      "type": "string",
                      "enum": ["stop_loss", "take_profit"],
                      "description": "Order type"
                    },
                    "value": {
                      "type": ["string", "null"],
                      "description": "Barrier value"
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "cancelRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["cancel"],
            "properties": {
              "cancel": {
                "type": "integer",
                "description": "Contract ID to cancel"
              }
            }
          }
        ]
      },
      "cancelResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "cancel": {
                "type": "object",
                "properties": {
                  "contract_id": {
                    "type": "integer",
                    "description": "Contract ID"
                  },
                  "transaction_id": {
                    "type": "integer",
                    "description": "Cancellation transaction ID"
                  },
                  "reference_id": {
                    "type": "integer",
                    "description": "Buy transaction ID"
                  },
                  "sold_for": {
                    "type": "number",
                    "description": "Refund amount"
                  },
                  "balance_after": {
                    "type": "number",
                    "description": "Balance after cancellation"
                  }
                }
              }
            }
          }
        ]
      },
      "transactionRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["transaction", "subscribe"],
            "properties": {
              "transaction": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1"
              },
              "subscribe": {
                "type": "integer",
                "const": 1,
                "description": "Must be 1 to subscribe"
              }
            }
          }
        ]
      },
      "transactionResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "transaction": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Subscription ID"
                  },
                  "transactions": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "Initial transaction list"
                  }
                }
              },
              "subscription": {
                "$ref": "#/components/schemas/subscription"
              }
            }
          }
        ]
      },
      "transactionUpdateSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "transaction": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string",
                    "description": "Transaction type"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Transaction amount"
                  },
                  "balance": {
                    "type": "number",
                    "description": "Balance after transaction"
                  },
                  "contract_id": {
                    "type": ["integer", "null"],
                    "description": "Contract ID if applicable"
                  },
                  "currency": {
                    "type": "string",
                    "description": "Currency code"
                  },
                  "date_expiry": {
                    "type": "integer",
                    "description": "Contract expiry epoch"
                  },
                  "id": {
                    "type": "string",
                    "description": "Subscription ID"
                  },
                  "longcode": {
                    "type": "string",
                    "description": "Contract description"
                  },
                  "purchase_time": {
                    "type": "integer",
                    "description": "Purchase epoch for sells"
                  },
                  "transaction_id": {
                    "type": "integer",
                    "description": "Transaction ID"
                  },
                  "transaction_time": {
                    "type": "integer",
                    "description": "Transaction epoch"
                  },
                  "underlying_symbol": {
                    "type": "string",
                    "description": "Symbol code"
                  }
                }
              }
            }
          }
        ]
      },
      "forgetRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["forget"],
            "properties": {
              "forget": {
                "type": "string",
                "description": "Subscription ID to cancel"
              }
            }
          }
        ]
      },
      "forgetResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "forget": {
                "type": "integer",
                "description": "1 if cancelled, 0 if not found"
              }
            }
          }
        ]
      },
      "forgetAllRequestSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonRequest"},
          {
            "type": "object",
            "required": ["forget_all"],
            "properties": {
              "forget_all": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Single stream type"
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Multiple stream types"
                  }
                ],
                "description": "Stream types to cancel (e.g., 'ticks', 'candles')"
              }
            }
          }
        ]
      },
      "forgetAllResponseSchema": {
        "allOf": [
          {"$ref": "#/components/schemas/commonResponse"},
          {
            "type": "object",
            "properties": {
              "forget_all": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "IDs of cancelled streams"
              }
            }
          }
        ]
      }
    },
    "securitySchemes": {
      "sessionToken": {
        "type": "plain",
        "description": "Session token obtained via get_session_token and used with authorize endpoint"
      }
    }
  }
}